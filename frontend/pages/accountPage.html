<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Account Creation Finished</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="login" href="credential.html" />
    <script src="script.js"></script>
    <link rel="icon" href="logoImg.png" type="image/x-icon" />
  </head>
  <body>
    <img id="accountImage" src="img/billybronco.png" />
    <p class="underLogo"><strong>Account Page</strong></p>
    <br />
    <section class="account">
      <label for="currentName">Name: </label>
      <br /><br />
      <label for="currentEmail">Email: </label>
      <br /><br />
      <label for="currentPassword">Password: </label>
      <br /><br />
      <label for="cardholderName">Cardholder's Name: </label>
      <br /><br />
      <label for="cardNumber">Card Number: </label>
      <br /><br />
      <label for="expirationDate">Expiration Date: </label>
      <br /><br />
      <label for="CVV">CVV: </label>
      <br /><br />

      <button type="button" class="createAccount" onclick="switchToMenuPage()">
        Return back to Menu
      </button>
      <br /><br />
      <button
        type="button"
        class="createAccount"
        onclick="switchToMenuPage(); submitForm()"
      >
        Change Information
      </button>
    </section>
    <script>
      function switchToMenuPage() {
        window.location.href = "restaurantPage.html";
      }
    </script>
    <script>
      function submitForm() {
        const formData = {
          name: document.getElementByID("name").value,
          email: document.getElementByID("email").value,
          password: document.getElementByID("password").value,
          cardName: document.getElementByID("cardName").value,
          cardNumber: document.getElementByID("cardNumber").value,
          cardExpiration: document.getElementByID("cardExpiration").value,
          cvv: document.getElementByID("cvv").value,
        };
      }

      fetch("/create-account", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify(formData),
      })
        .then((response) => {
          if (response.ok) {
            console.log("Account created successfully");
          } else {
            console.error("Error creating account");
          }
        })
        .catch((error) => {
          console.error("Error:", error);
        });
    </script>
  </body>
</html>
